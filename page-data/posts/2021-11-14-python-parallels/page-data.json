{"componentChunkName":"component---src-templates-post-js","path":"/posts/2021-11-14-python-parallels/","result":{"data":{"site":{"siteMetadata":{"title":"MJUN Tech Note","author":"Junya Morioka"}},"markdownRemark":{"id":"75e07906-d5b0-5d17-9bad-d5c8ccf288f3","html":"<p>Pythonで複数ファイルに対して同じ操作をしたいときに，\n1つずつ開いて操作をしていると遅いので，<br>\n並列化して高速化することを目論む．\n本ページでは雛形を提示する．</p>\n<h2 id=\"並行処理と並列処理\">並行処理と並列処理</h2>\n<p>英語では以下のように表現する．</p>\n<ul>\n<li>並行処理: Concurrency</li>\n<li>並列処理: Parallel</li>\n</ul>\n<p>細かい話は他の文献に譲るとして，簡単に説明すると</p>\n<ul>\n<li>並行処理は，ある時間の範囲内で複数の処理を行うこと．</li>\n<li>並列処理は，ある時間の範囲内で同時に処理を行うこと．</li>\n</ul>\n<p>並行処理は同じ時間に1つの仕事しかしないが，各処理をちょっとずつ進めたり，一方の処理の待ち時間でCPUが空いてるときに他方の処理をするなどして高速化する．つまり，効率的に処理を切り替えることで高速化する．</p>\n<p>並列処理は同じ時間に複数の作業を同時に行うことで高速化する．</p>\n<p>並行処理は無駄をなくす，並列処理は道路を増やすという方法で高速化する．</p>\n<p>図で示すと以下のようなイメージ．</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9441e7e16f28482da867e84445477d97/d9199/2021-11-14-python-parallels_image1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42k2QUXOjIBDH/f4fpc997ctNHzrtXHsTGy8xUWOSShRMlBVYUOAGbW/yGwZm/8su7D/qs8wmiXl9NYyhMagUIkqlYBAwSCFDiIj6ByEVDHIQCmCIbmnKnp+vT0/d8ei89y5sA05/0tP79ngTZtaCuHCi8LJK96SXCiMuBEdsOP8iBDgHgK7rAEBrtM5r0R2St/aYuGlcip1zNuCMMZGU0ntfExKvVnEcbzabLMs45xrRe29Ho+CmRZfX25f1r8/zbz3qpctcrJT3fpq7TVM4nQtdEXEKWOe9da7pSFHtz22pjbZTuKm1juQw+HF0iDZcXL5kxx/MzDiOy9TO+v+pUAxxjI+P+PDg6npO29mwMW9EQWVBZdliUrKP9FRQmdMgZo04UBGKr4yVeU7OZ39n6Wi07KnkTHKmoL3Rqq5KBWxRRE9Fz8LMYjbMzTZ+473VyvXE8YvjFw+1pMfreefn0PGL7aupIxoxUrNhd4T3Afmm+dzS9ZauU5bEp4/3/C1lyawkf5s4pUn4dtM0AMDvAAB2pUW1K6p9WGSfndJdufkOq33+tTuQvG3bf9onbO3WxC9SAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"並行・並列処理\"\n        title=\"\"\n        src=\"/static/9441e7e16f28482da867e84445477d97/5a190/2021-11-14-python-parallels_image1.png\"\n        srcset=\"/static/9441e7e16f28482da867e84445477d97/772e8/2021-11-14-python-parallels_image1.png 200w,\n/static/9441e7e16f28482da867e84445477d97/e17e5/2021-11-14-python-parallels_image1.png 400w,\n/static/9441e7e16f28482da867e84445477d97/5a190/2021-11-14-python-parallels_image1.png 800w,\n/static/9441e7e16f28482da867e84445477d97/d9199/2021-11-14-python-parallels_image1.png 960w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>(<a href=\"https://blog.framinal.life/entry/2020/04/05/204055\">https://blog.framinal.life/entry/2020/04/05/204055</a>)より引用</p>\n</blockquote>\n<h2 id=\"スレッドとプロセス\">スレッドとプロセス</h2>\n<p>プロセスはプログラム1つの実行単位．<br>\nスレッドはプロセスの中の実行単位．<br>\nプロセスの中に複数のスレッドが存在する．<br>\nつまり，CPUコアの実行単位はスレッドになる．</p>\n<p>スレッドはプロセス内の同じメモリ空間を共有できるが，\nプロセスではプロセスごとにメモリ空間が確保されるため，\nデータを共有するにはプロセス間通信を行う必要がある．</p>\n<p>PythonではGILがあるので，CPUバウンド(高負荷な処理)をスレッドで高速化すること\nは困難である．\nつまり，</p>\n<ul>\n<li>I/Oバウンドな処理はマルチスレッド</li>\n<li>CPUバウンドな処理はマルチプロセス</li>\n</ul>\n<p>で実装するのが良い．</p>\n<h2 id=\"pythonでの実装\">Pythonでの実装</h2>\n<p>Pythonで並列・並行処理を実装するには以下の方法(標準ライブラリ)がある．</p>\n<ul>\n<li>並行処理\n<ul>\n<li>threading</li>\n<li>concurrent.futures</li>\n</ul>\n</li>\n<li>並列処理\n<ul>\n<li>multiprocessing</li>\n<li>concurrent.futures</li>\n</ul>\n</li>\n</ul>\n<p><code class=\"language-text\">concurrent.futures</code>はPython3.2から追加されたthreadingやmultiprocessingのラッパー．<br>\nコードが簡単になるのでとりあえずこれを使う．</p>\n<p>前述の通り，PythonのGILによってスレッド周りでの高速化はあまり期待できないので，\n並列処理でマルチプロセスしたほうが早くなる場合が多い．</p>\n<h2 id=\"並列処理のコード例\">並列処理のコード例</h2>\n<p>2022.07.05 更新: ソースコード例に重大な誤りがありました．お詫びいたします．</p>\n<p>下記の例はマルチプロセスの例である．マルチスレッドにする際は，\n<code class=\"language-text\">ProcessPoolExecutor</code>を<code class=\"language-text\">ThreadPoolExecutor</code>に変更すれば良い．</p>\n<p>下記の関数fnがI/Oバウンドならマルチスレッドを，\nCPUバウンドならマルチプロセスにすれば良い．</p>\n<p><div>\n        <a class=\"amazon-card-container\" href=\"https://www.amazon.co.jp/dp/4873119170?tag=mjun-22&linkCode=ogi&th=1&psc=1\">\n          <div class=\"amazon-card-body\">\n            <div class=\"amazon-card-title\">Effective Python 第2版 ―Pythonプログラムを改良する90項目</div>\n            <div class=\"amazon-card-domain\">www.amazon.co.jp</div>\n          </div>\n          <div class=\"amazon-card-image-container\" >\n            <img class=\"amazon-card-image\" src=\"https://m.media-amazon.com/images/I/41Ekr6CCxDL._SL160_.jpg\" loading=\"lazy\" alt=\"Effective Python 第2版 ―Pythonプログラムを改良する90項目-image\" />\n          </div>\n        </a>\n      </div></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> concurrent<span class=\"token punctuation\">.</span>futures <span class=\"token keyword\">import</span> ProcessPoolExecutor\n<span class=\"token keyword\">from</span> tqdm <span class=\"token keyword\">import</span> tqdm\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> time\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># -------------------(1)</span>\n    <span class=\"token comment\"># for文の1つ単位の処理を関数化する</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> idx<span class=\"token punctuation\">,</span> d\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">fn2</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># -------------------(1)</span>\n    <span class=\"token comment\"># for文の1つ単位の処理を関数化する</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> d\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    data <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># tqdmで経過が知りたい時</span>\n    <span class=\"token keyword\">with</span> tqdm<span class=\"token punctuation\">(</span>total<span class=\"token operator\">=</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> progress<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># 1. 引数にiterできないオブジェクトがある時</span>\n        <span class=\"token keyword\">with</span> ProcessPoolExecutor<span class=\"token punctuation\">(</span>max_workers<span class=\"token operator\">=</span>os<span class=\"token punctuation\">.</span>cpu_count<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> executor<span class=\"token punctuation\">:</span>  <span class=\"token comment\"># -----(2)</span>\n            futures <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># 処理結果を保存するlist</span>\n            <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> d <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>  <span class=\"token comment\"># -------(3)</span>\n                future <span class=\"token operator\">=</span> executor<span class=\"token punctuation\">.</span>submit<span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span>\n                future<span class=\"token punctuation\">.</span>add_done_callback<span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> p<span class=\"token punctuation\">:</span> progress<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># tqdmで経過が知りたい時</span>\n                futures<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>future<span class=\"token punctuation\">)</span>\n            result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>f<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> futures<span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 2. 引数がiterできる場合</span>\n    <span class=\"token keyword\">with</span> ProcessPoolExecutor<span class=\"token punctuation\">(</span>max_workers<span class=\"token operator\">=</span>os<span class=\"token punctuation\">.</span>cpu_count<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> executor<span class=\"token punctuation\">:</span>  <span class=\"token comment\"># -----(2)</span>\n        result <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>tqdm<span class=\"token punctuation\">(</span>executor<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span>fn2<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> total<span class=\"token operator\">=</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>tqdmで経過を確認できるようにした．</p>\n<ol>\n<li>並列化したい処理の範囲を関数に書き出す</li>\n</ol>\n<p>((1)のfn関数, 引数が1つのみでdataのように配列の要素を次々渡すときは(2)のfn2関数)</p>\n<ol>\n<li><code class=\"language-text\">with ProcessPoolExecutor(max_workers=worker_num) as executor:</code>内でexecutorに関数とその引数を<code class=\"language-text\">submit or map</code>で渡す．</li>\n</ol>\n<p>2について，関数の引数がiter可能な場合はmapを使えば(3)のforを省略できる．</p>\n<h2 id=\"参考\">参考</h2>\n<p><div>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://qiita.com/tag1216/items/db5adcf1ddcb67cfefc8\" class=\"link-card-container\">\n            <div class=\"link-card-wrapper\">\n                <div class=\"link-card-text\">\n                    <div class=\"link-card-title\">Pythonでconcurrent.futuresを使った並列タスク実行 - Qiita</div>\n                    <div class=\"link-card-description\">\n\nconcurrent.futuresモジュールの概要\n\nPython3.2で追加されたconcurrent.futuresモジュールは、複数の処理を並列実行するための機能を提供します。\n\nPythonには他にthreadingとm...</div>\n                </div>\n                <div class=\"link-card-url\">\n                    <img class=\"link-card-favicon\" src=\"https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico\" alt=\"Pythonでconcurrent.futuresを使った並列タスク実行 - Qiita-favicon\"/>\n                    <div class=\"link-card-link\">https://qiita.com/tag1216/items/db5adcf1ddcb67cfefc8</div>\n                </div>\n            </div>\n            <div class=\"link-card-image-wrapper\">\n                            <img class=\"link-card-image\" alt=\"Pythonでconcurrent.futuresを使った並列タスク実行 - Qiita-image\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-9f5428127621718a910c8b63951390ad.png?ixlib=rb-4.0.0&w=1200&mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTkxNiZ0eHQ9UHl0aG9uJUUzJTgxJUE3Y29uY3VycmVudC5mdXR1cmVzJUUzJTgyJTkyJUU0JUJEJUJGJUUzJTgxJUEzJUUzJTgxJTlGJUU0JUI4JUE2JUU1JTg4JTk3JUUzJTgyJUJGJUUzJTgyJUI5JUUzJTgyJUFGJUU1JUFFJTlGJUU4JUExJThDJnR4dC1jb2xvcj0lMjMyMTIxMjEmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTYmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWxlZnQlMkN0b3Amcz0zYTdjNDgyNTc2YmUwMWRkMzIwNWNkMTI3NDI1YWQ4NQ&mark-x=142&mark-y=112&blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTYxNiZ0eHQ9JTQwdGFnMTIxNiZ0eHQtY29sb3I9JTIzMjEyMTIxJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTM2JnR4dC1hbGlnbj1sZWZ0JTJDdG9wJnM9NWViOTQyZDIyNTIzOTQ0YzM2YWU1Y2ZlZTY4NmQ5ZTQ&blend-x=142&blend-y=491&blend-mode=normal&s=7c34165c42261999e6f9b82ed2fca092\" />\n                        </div>\n        </a>\n    </div></p>\n<p><div>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://qiita.com/ttiger55/items/5e1d5a3405d2b3ef8f40\" class=\"link-card-container\">\n            <div class=\"link-card-wrapper\">\n                <div class=\"link-card-text\">\n                    <div class=\"link-card-title\">Pythonで並列処理をするなら知っておくべきGILをできる限り詳しく調べてみた - Qiita</div>\n                    <div class=\"link-card-description\">最近Pythonでオーケストレーション層(BFF)のアプリケーションを書く機会がありました。\n\nPython3.4からはasyncioが導入され、I/Oバウンドな処理はシングルスレッドでも効率的に捌けるようになったものの、依然としてC...</div>\n                </div>\n                <div class=\"link-card-url\">\n                    <img class=\"link-card-favicon\" src=\"https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico\" alt=\"Pythonで並列処理をするなら知っておくべきGILをできる限り詳しく調べてみた - Qiita-favicon\"/>\n                    <div class=\"link-card-link\">https://qiita.com/ttiger55/items/5e1d5a3405d2b3ef8f40</div>\n                </div>\n            </div>\n            <div class=\"link-card-image-wrapper\">\n                            <img class=\"link-card-image\" alt=\"Pythonで並列処理をするなら知っておくべきGILをできる限り詳しく調べてみた - Qiita-image\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-9f5428127621718a910c8b63951390ad.png?ixlib=rb-4.0.0&w=1200&mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTkxNiZ0eHQ9UHl0aG9uJUUzJTgxJUE3JUU0JUI4JUE2JUU1JTg4JTk3JUU1JTg3JUE2JUU3JTkwJTg2JUUzJTgyJTkyJUUzJTgxJTk5JUUzJTgyJThCJUUzJTgxJUFBJUUzJTgyJTg5JUU3JTlGJUE1JUUzJTgxJUEzJUUzJTgxJUE2JUUzJTgxJThBJUUzJTgxJThGJUUzJTgxJUI5JUUzJTgxJThER0lMJUUzJTgyJTkyJUUzJTgxJUE3JUUzJTgxJThEJUUzJTgyJThCJUU5JTk5JTkwJUUzJTgyJThBJUU4JUE5JUIzJUUzJTgxJTk3JUUzJTgxJThGJUU4JUFBJUJGJUUzJTgxJUI5JUUzJTgxJUE2JUUzJTgxJUJGJUUzJTgxJTlGJnR4dC1jb2xvcj0lMjMyMTIxMjEmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTYmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWxlZnQlMkN0b3Amcz1iMDQ2ZDA3ZjM0ZjA2MDdkMGNiYzA0Y2FjOGExODk2MA&mark-x=142&mark-y=112&blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTYxNiZ0eHQ9JTQwdHRpZ2VyNTUmdHh0LWNvbG9yPSUyMzIxMjEyMSZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT0zNiZ0eHQtYWxpZ249bGVmdCUyQ3RvcCZzPTAwYzQxZWUxMGRkYTk1ZjRiNzY1MTU4ZmJjNjc5YWVl&blend-x=142&blend-y=491&blend-mode=normal&s=50a632c626e939ab793536c3e4aeba26\" />\n                        </div>\n        </a>\n    </div></p>\n<p><div>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://zenn.dev/ryo_kawamata/articles/python-concurrent-thread\" class=\"link-card-container\">\n            <div class=\"link-card-wrapper\">\n                <div class=\"link-card-text\">\n                    <div class=\"link-card-title\">Pythonの並行処理を理解したい [マルチスレッド編]</div>\n                    \n                </div>\n                <div class=\"link-card-url\">\n                    <img class=\"link-card-favicon\" src=\"https://zenn.dev/images/logo-transparent.png\" alt=\"Pythonの並行処理を理解したい [マルチスレッド編]-favicon\"/>\n                    <div class=\"link-card-link\">https://zenn.dev/ryo_kawamata/articles/python-concurrent-thread</div>\n                </div>\n            </div>\n            <div class=\"link-card-image-wrapper\">\n                            <img class=\"link-card-image\" alt=\"Pythonの並行処理を理解したい [マルチスレッド編]-image\" src=\"https://res.cloudinary.com/zenn/image/upload/s--K67N_Z7x--/c_fit%2Cg_north_west%2Cl_text:notosansjp-medium.otf_55:Python%25E3%2581%25AE%25E4%25B8%25A6%25E8%25A1%258C%25E5%2587%25A6%25E7%2590%2586%25E3%2582%2592%25E7%2590%2586%25E8%25A7%25A3%25E3%2581%2597%25E3%2581%259F%25E3%2581%2584%2520%255B%25E3%2583%259E%25E3%2583%25AB%25E3%2583%2581%25E3%2582%25B9%25E3%2583%25AC%25E3%2583%2583%25E3%2583%2589%25E7%25B7%25A8%255D%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Cl_text:notosansjp-medium.otf_37:ryo_kawamata%2Cx_203%2Cy_98/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3plbm4tdXNlci11cGxvYWQvYXZhdGFyLzU2N2NiMTI0ZWYuanBlZw==%2Cr_max%2Cw_90%2Cx_87%2Cy_72/og-base.png\" />\n                        </div>\n        </a>\n    </div></p>","tableOfContents":"<ul>\n<li><a href=\"#%E4%B8%A6%E8%A1%8C%E5%87%A6%E7%90%86%E3%81%A8%E4%B8%A6%E5%88%97%E5%87%A6%E7%90%86\">並行処理と並列処理</a></li>\n<li><a href=\"#%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E3%81%A8%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9\">スレッドとプロセス</a></li>\n<li><a href=\"#python%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A3%85\">Pythonでの実装</a></li>\n<li><a href=\"#%E4%B8%A6%E5%88%97%E5%87%A6%E7%90%86%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E4%BE%8B\">並列処理のコード例</a></li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>","excerpt":"Pythonで複数ファイルに対して同じ操作をしたいときに，\n1つずつ開いて操作をしていると遅いので， 並列化して高速化することを目論む．\n本ページでは雛形を提示する． 並行処理と並列処理 英語では以下のように表現する． 並行処理: Concurrency…","frontmatter":{"title":"Pythonでforを並列化する","date":"2021.11.14","update":"2022.07.05","category":"Python","tags":["Python"]},"fields":{"slug":"/posts/2021-11-14-python-parallels/"}}},"pageContext":{"id":"75e07906-d5b0-5d17-9bad-d5c8ccf288f3"}},"staticQueryHashes":["1123391092"],"slicesMap":{}}